{{define "addfootage-items"}}
{{template "head-bootstrap5"}}
<body>
{{template "navbar-bootstrap5" .}}
{{template "modal" .}}

<div class="container py-5 px-2">
    <div class="col-lg-8 col-md-8 col-sm-12 mx-auto">
        <div class="pt-3 pb-3">
            <h2 class="text-muted">Add Multiple Footage Assets</h2>
        </div>

        <div class="row">
            <div class="col-sm">
                <div class="form-group">
                    <label class="text-muted">Find Path</label>
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Path">
                        <button class="btn btn-outline-warning" type="button">ScanPath</button>
                    </div>
                    <small class="form-text text-muted">소스를 탐색할 경로를 설정해주세요.</small>
                </div>
            </div>
        </div>

        <div class="row pt-2">
            <div class="col-sm">
                <div class="border-table rounded" id="source-table"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm">
                <div class="w-100 btn-group btn-group-sm rounded-bottom" role="group" aria-label="Basic example">
                    <button type="button" class="btn btn-outline-darkmode" id="download-csv">Download CSV</button>
                    <button type="button" class="btn btn-outline-darkmode" id="download-json">Download JSON</button>
                    <button type="button" class="btn btn-outline-darkmode" id="download-xlsx">Download XLSX</button>
                    <button type="button" class="btn btn-outline-darkmode" id="download-pdf">Download PDF</button>
                    <button type="button" class="btn btn-outline-darkmode" id="download-html">Download HTML</button>
                </div>
            </div>
        </div>

        <div class="row pt-3">
            <div class="col-sm">
                <div class="form-group">
                    <label class="text-muted">Title</label>
                    <input id="addTitle" type="text" name="title" class="form-control" placeholder="에셋 제목">
                    <small class="form-text text-muted">에셋 제목을 입력해주세요.</small>
                </div>
            </div>
        </div>
        <div class="row pt-3">
            <div class="col-sm">
                <div class="form-group">
                    <label class="text-muted">Author</label>
                    <input id="addAuthor" type="text" name="author" class="form-control" placeholder="에셋 제작자 이름">
                    <small class="form-text text-muted">에셋 제작자 이름을 적어주세요.</small>
                </div>
            </div>
        </div>
        <div class="row pt-3">
            <div class="col-sm">
                <div class="form-group">
                    <label class="text-muted">Description</label>
                    <textarea id="addDescription" name="description" class="form-control" rows="5"></textarea>
                    <small class="form-text text-muted">에셋 사용시 참고해야할 사항</small>
                </div>
            </div>
        </div>
        <div class="row pt-3">
            <div class="col-sm">
                <div class="form-group">
                    <label class="text-muted">Tags</label>
                    <input id="addTags" type="text" name="tags" class="form-control" placeholder="장소명 시간대">
                    <small class="form-text text-muted">태그를 입력하세요. 태그는 띄어쓰기 또는 쉼표로 구분합니다.</small>
                </div>
            </div>
        </div>
        <div class="row pt-3">
            <div class="col-sm">
                <div class="form-group">
                    <label class="text-muted">FPS</label>
                    <select name="fps" class="form-control">
                        <option value="24">24</option>
                        <option value="23.976">23.976</option>
                        <option value="23.98">23.98</option>
                        <option value="30">30</option>
                        <option value="25">25</option>
                        <option value="29.97">29.97</option>
                        <option value="60">60</option>
                        <option value="59.94">59.94</option>
                    </select>
                    <small class="form-text text-muted">촬영 Footage의 FPS를 입력해주세요.</small>
                </div>
            </div>
        </div>
        <div class="row pt-3">
            <div class="col-sm">
                <div class="form-group">
                    <label class="text-muted">Colorspace</label>
                    <span class="preset-button float-end" data-bs-toggle="modal" data-bs-target="#modal-preset-colorspace">Preset</span>
                    <div class="row">
                        <div class="col">
                            <select id="incolorspace" name="incolorspace" class="form-control">
                                {{range .Colorspaces}}<option value="{{.Name}}">{{.Name}}</option>{{end}}
                            </select>
                            <small class="form-text text-muted">In Colorspace</small>
                        </div>
                        <div class="col">
                            <select id="outcolorspace" name="outcolorspace" class="form-control">
                                {{range .Colorspaces}}<option value="{{.Name}}">{{.Name}}</option>{{end}}
                            </select>
                            <small class="form-text text-muted">Out Colorspace</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row pt-3">
            <div class="col-sm">
                <div class="from-group">
                    <div class="form-check form-switch">
                        <input class="form-check-input finger" type="checkbox" id="premult" name="premult">
                        <label class="form-check-label finger unselectable text-muted" for="premult">Premultiply</label>
                    </div>
                </div>
            </div>
        </div>

        <div class="row pt-3">
            <div class="col-sm">
                <div class="form-group">
                    <label class="text-muted">Attributes</label>
                    <div id="attributes">
                        <div class="row">
                            <div class="col">
                                <div class="form-group p-0 m-0">
                                    <input type="text" class="form-control" placeholder="key" value="" id="key0" name="key0">
                                </div>
                            </div>
                            <div class="col">
                                <div class="form-group p-0 m-0">
                                    <input type="text" class="form-control" placeholder="value" value="" id="value0" name="value0">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <input type="hidden" id="attributesNum" name="attributesNum" value="1">
                        <div class="col">
                            <small class="form-text text-muted float-right">필요시 속성을 추가해 주세요.</small>
                            <br>
                            <span class="add float-right" onclick="addAttribute();">+</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="text-center pt-5">
        <button type="submit" class="btn btn-outline-warning">SUBMIT PROCESS</button>
    </div>
</div>


{{template "footer"}}
</body>
<!--add javascript-->
<script src="/assets/bootstrap-5.1.3-dist/js/bootstrap.bundle.js"></script>
<script src="/assets/js/dotori.js"></script>
<script src="/assets/tabulator5.1/js/tabulator.min.js"></script>
<script src="/assets/js/exports/jspdf.umd.min.js"></script>
<script src="/assets/js/exports/jspdf.plugin.autotable.min.js"></script>
<script src="/assets/js/exports/xlsx.full.min.js"></script>
<script>
    //define some sample data
    var sources = [
        {id:1, path:"/path/test/01", frame:"12", start:"1001", end:"1005"},
        {id:2, path:"/path/test/02", frame:"10", start:"1002", end:"1005"},
        {id:3, path:"/path/test/03", frame:"9", start:"1001", end:"1100"},
        {id:4, path:"/path/test/04", frame:"100", start:"1002", end:"1010"},
        {id:5, path:"/path/test/05", frame:"150", start:"1010", end:"1200"},
        {id:6, path:"/path/test/05", frame:"150", start:"1010", end:"1200"},
        {id:7, path:"/path/test/05", frame:"150", start:"1010", end:"1200"},
        {id:8, path:"/path/test/05", frame:"150", start:"1010", end:"1200"},
        {id:9, path:"/path/test/05", frame:"150", start:"1010", end:"1200"},
        {id:10, path:"/path/test/05", frame:"150", start:"1010", end:"1200"},
        {id:11, path:"/path/test/05", frame:"150", start:"1010", end:"1200"},
        {id:12, path:"/path/test/05", frame:"150", start:"1010", end:"1200"},
        {id:13, path:"/path/test/05", frame:"150", start:"1010", end:"1200"},
        {id:14, path:"/path/test/05", frame:"150", start:"1010", end:"1200"},
    ];
    //create Tabulator on DOM element with id "example-table"
    var table = new Tabulator("#source-table", {
        height:212, // set height of table (in CSS or here), this enables the Virtual DOM and improves render speed dramatically (can be any valid css height value)
        data:sources, //assign data to table
        layout:"fitColumns", //fit columns to width of table (optional)
        pagination:"local",
        paginationSize:5,
        paginationSizeSelector:[5, 10, 15, 20],
        movableColumns:true,
        paginationCounter:"rows",
        columns:[ //Define Table Columns
            {formatter:"rowSelection", titleFormatter:"rowSelection", width:10, headerHozAlign:"center", hozAlign:"center", headerSort:false, cellClick:function(e, cell){
                cell.getRow().toggleSelect();
            }},
            {title:"Path", field:"path", hozAlign: "left", headerHozAlign:"center", width:250},
            {title:"Frame", field:"frame", hozAlign:"center", headerHozAlign:"center"},
            {title:"Start", field:"start", hozAlign:"center", headerHozAlign:"center"},
            {title:"End", field:"end", hozAlign:"center", headerHozAlign:"center"},
        ],
    });

    //trigger download of data.csv file
    document.getElementById("download-csv").addEventListener("click", function(){
        table.download("csv", "data.csv");
    });

    //trigger download of data.json file
    document.getElementById("download-json").addEventListener("click", function(){
        table.download("json", "data.json");
    });

    //trigger download of data.xlsx file
    document.getElementById("download-xlsx").addEventListener("click", function(){
        table.download("xlsx", "data.xlsx", {sheetName:"Source Data"});
    });

    //trigger download of data.pdf file
    document.getElementById("download-pdf").addEventListener("click", function(){
        table.download("pdf", "data.pdf", {
            orientation:"portrait", //set page orientation to portrait
            title:"Example Report", //add title to report
        });
    });

    //trigger download of data.html file
    document.getElementById("download-html").addEventListener("click", function(){
        table.download("html", "data.html", {style:true});
    });
</script>
</html>
{{end}}
